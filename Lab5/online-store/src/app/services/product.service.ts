import { Injectable } from '@angular/core';
import { Category } from '../models/category.model';
import { Product } from '../models/product.model';

@Injectable({ providedIn: 'root' })
export class ProductService {
  private readonly categories: Category[] = [
    { id: 1, name: 'Smartphones' },
    { id: 2, name: 'Laptops' },
    { id: 3, name: 'Headphones' },
    { id: 4, name: 'Tablets' },
    { id: 5, name: 'All' },
  ];

  private readonly products: Product[] = [
    // Smartphones (1)
    {
      id: 101,
      categoryId: 1,
      name: 'Apple iPhone 15 Pro 256Gb',
      description: 'Titanium body, A17 Pro, pro-level cameras.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/apple-iphone-15-pro-256gb-chernyi-113138191/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/hfe/h17/86302548557854.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 102,
      categoryId: 1,
      name: 'Samsung Galaxy S24 5G 8/256',
      description: 'Compact flagship, smooth display, great cameras.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/samsung-galaxy-s24-5g-8-gb-256-gb-chernyi-podarok-116004286/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/hb9/hec/84952826642462.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 103,
      categoryId: 1,
      name: 'Xiaomi Redmi Note 13 5G 8/256',
      description: 'AMOLED 120Hz, 108MP camera, 5000mAh.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/xiaomi-redmi-note-13-5g-8-gb-256-gb-chernyi-115911103/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h09/h76/84917870788638.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 104,
      categoryId: 1,
      name: 'Google Pixel 8 8/256',
      description: 'Clean Android, excellent camera processing.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/google-pixel-8-8-gb-256-gb-chernyi-113692478/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h38/h2a/84135546781726.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 105,
      categoryId: 1,
      name: 'OnePlus 12 16/512',
      description: 'Snapdragon 8 Gen 3, fast, premium display.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/oneplus-12-16-gb-512-gb-chernyi-116425286/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/p8e/p63/37727658.jpg?format=gallery-medium',
      images: [],
    },
    
    

    // Laptops (2)
    {
      id: 201,
      categoryId: 2,
      name: 'Apple MacBook Air 13 (2022) M2',
      description: 'Lightweight, great battery, perfect for study/work.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/apple-macbook-air-13-2022-13-6-8-gb-ssd-256-gb-macos-mlxw3-105933794/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/hf4/h52/64509322919966.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 202,
      categoryId: 2,
      name: 'Lenovo IdeaPad 3 15.6 (8/512)',
      description: 'Good value laptop for study and everyday tasks.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/lenovo-ideapad-3-15-6-8-gb-ssd-512-gb-dos-15alc6-82ku002vrk-106408979/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h81/hf0/86573687701534.png?format=gallery-medium',
      images: [],
    },
    {
      id: 203,
      categoryId: 2,
      name: 'ASUS TUF Gaming F15 (16/1000)',
      description: 'Gaming laptop, high performance for heavy tasks.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/asus-tuf-gaming-f15-15-6-16-gb-ssd-1000-gb-bez-os-fx507vi-hq108-90nr0fh7-m005v0-118582837/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/hc1/h55/85794792636446.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 204,
      categoryId: 2,
      name: 'HP Pavilion 15 (16/512)',
      description: 'Fast everyday laptop, nice screen and build.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/hp-pavilion-15-eh3022ci-15-6-16-gb-ssd-512-gb-dos-7p442ea-uuq-111967653/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h5e/h56/82089387917342.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 205,
      categoryId: 2,
      name: 'DELL Inspiron 15 3520 (8/512)',
      description: 'Reliable laptop for work and study.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/dell-inspiron-15-3520-15-6-8-gb-ssd-512-gb-win-11-pro-210-bdif-2-116529545/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h08/he2/85134140506142.jpg?format=gallery-medium',
      images: [],
    },

    // Headphones (3)
    {
      id: 301,
      categoryId: 3,
      name: 'Apple AirPods Pro 2',
      description: 'ANC, great transparency, Apple ecosystem.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/naushniki-apple-airpods-pro-2nd-generation-with-wireless-magsafe-charging-case-belyi-113677582/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/ha3/h07/84108189630494.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 302,
      categoryId: 3,
      name: 'Sony WH-1000XM5',
      description: 'Top noise cancelling, premium sound.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/naushniki-sony-wh-1000xm5-chernyi-105259822/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h9c/h23/65099684020254.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 303,
      categoryId: 3,
      name: 'JBL Tune 510BT',
      description: 'Wireless, long battery life, strong bass.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/naushniki-jbl-tune-510bt-chernyi-101420081/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/hef/h29/64030233788446.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 304,
      categoryId: 3,
      name: 'Marshall Major IV',
      description: 'Iconic style, long battery life.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/marshall-major-iv-chernyi-podarok-131782885/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/paf/pfa/14419208.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 305,
      categoryId: 3,
      name: 'Samsung Galaxy Buds2 Pro',
      description: 'Compact earbuds, hi-fi sound, ANC.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/naushniki-samsung-galaxy-buds2-pro-belyi-106128764/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h69/h44/64496879435806.jpg?format=gallery-medium',
      images: [],
    },

    // Tablets (4)
    {
      id: 401,
      categoryId: 4,
      name: 'Apple iPad 10.9 (2022) Wi-Fi 64GB',
      description: 'Great all-round tablet for study and entertainment.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/apple-ipad-10-9-2022-wi-fi-10-9-djuim-4-gb-64-gb-serebristyi-107264764/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h5d/h3c/64865317584926.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 402,
      categoryId: 4,
      name: 'Samsung Galaxy Tab S9 11 (8/128)',
      description: 'AMOLED display, powerful performance.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/samsung-galaxy-tab-s9-sm-x716bzaas-11-djuim-8-gb-128-gb-grafit-112488621/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h02/h6e/82770436030494.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 403,
      categoryId: 4,
      name: 'Xiaomi Pad 6 (8/128)',
      description: '144Hz screen, strong performance for the price.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/xiaomi-pad-6-11-djuim-8-gb-128-gb-seryi-110927907/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h08/h61/81337513771038.jpg?format=gallery-medium',
      images: [],
    },
    {
      id: 404,
      categoryId: 4,
      name: 'Lenovo Tab M11 (8/128)',
      description: 'Good tablet for notes, study, media.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/lenovo-tab-m11-11-djuim-8-gb-128-gb-seryi-122010420/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/h18/h24/86676315570206.png?format=gallery-medium',
      images: [],
    },
    {
      id: 405,
      categoryId: 4,
      name: 'Apple iPad Air 10.9 (2022) 256GB',
      description: 'M1 chip, great for creative tasks.',
      rating: 5,
      price: 0,
      likes: 0,
      link: 'https://kaspi.kz/shop/p/apple-ipad-air-2022-10-9-wi-fi-10-9-djuim-8-gb-256-gb-rozovyi-104235764/',
      image: 'https://resources.cdn-kaspi.kz/img/m/p/hdb/hd5/86369746747422.png?format=gallery-medium',
      images: [],


      
    },
  ];


  getCategories(): Category[] {
    return this.categories.slice();
  }

  getProductsByCategory(categoryId: number): Product[] {
    return this.products
      .filter(p => p.categoryId === categoryId)
      .map(p => ({ ...p, images: p.images?.length ? p.images : [p.image], likes: p.likes ?? 0 }));
  }
}